<%- include("../spinners/spinner1.ejs") %> <%-
include("../spinners/spinner2.ejs") %>

<div class="addUser">
  <div class="header">
    <div class="header__box header__box--total-users">
      <span class="header__box-value" id="totalUsers"></span>
      <span class="header__box-label" id="totalUsersLabel"
        >Utilisateurs Totals</span
      >
    </div>
    <div class="header__box header__box--male-users">
      <span class="header__box-value" id="maleUsers"></span>
      <span class="header__box-label" id="maleUsersLabel"
        >Utilisateurs Masculins</span
      >
    </div>
    <div class="header__box header__box--female-users">
      <span class="header__box-value" id="femaleUsers"></span>
      <span class="header__box-label" id="femaleUsersLabel"
        >Utilisatrices Féminines</span
      >
    </div>
    <div class="header__box header__box--active-users">
      <span class="header__box-value" id="activeUsers"></span>
      <span class="header__box-label" id="activeUsersLabel"
        >Utilisateurs Actifs</span
      >
    </div>
  </div>
  <div class="addUser__container">
    <div class="addUser__header">
      <button class="addUser__header-btn" id="addUserBtn">
        <span>
          <svg class="addUser__header-icon">
            <use xlink:href="#icon-plus"></use>
          </svg>
        </span>
        Ajouter un utilisateur
      </button>
      <!--<button class="addUser__header-blockedUsers" id="blockedUsersBtn">
        <span>
          <svg class="addUser__header-icon--block" id="block-icon">
            <use xlink:href="#icon-x-circle"></use>
          </svg>
        </span>
        Les Utilisateurs Bloqués
      </button>-->
      <div class="addUser__searchbar">
        <label class="addUser__searchbar-label" for="user" id="userSearchLabel"
          >Rechercher :</label
        >
        <input type="text" class="addUser__searchbar-input" id="user" />
      </div>
    </div>

    <div class="addUser__content">
      <table class="addUser__table">
        <tr class="addUser__row addUser__row--header">
          <th class="addUser__cell addUser__cell--header">#</th>
          <th class="addUser__cell addUser__cell--header" id="usernameHeader">
            Nom d'utilisateur
          </th>
          <th class="addUser__cell addUser__cell--header" id="matriculeHeader">
            Matricule
          </th>
          <th class="addUser__cell addUser__cell--header" id="nomCompletHeader">
            Nom Complet
          </th>
          <th class="addUser__cell addUser__cell--header" id="emailHeader">
            E-mail
          </th>
          <th class="addUser__cell addUser__cell--header" id="mobileHeader">
            Mobile
          </th>
          <th class="addUser__cell addUser__cell--header" id="permissionHeader">
            Permission
          </th>
          <th class="addUser__cell addUser__cell--header" id="statutHeader">
            Statut
          </th>
        </tr>
        <tbody id="tableBody"></tbody>
      </table>
    </div>
  </div>
</div>

<!--add new user-->
<div class="addNewUser addNewUserHide">
  <div class="addNewUser__container">
    <h1 class="addNewUser__heading" id="addUserHeading">
      Ajouter un Utilisateur
    </h1>
    <form class="addNewUser__form" id="addUserForm">
      <div class="addNewUser__form-group">
        <label class="addNewUser__label" for="name" id="nameLabel">Nom :</label>
        <input
          class="addNewUser__input"
          type="text"
          id="name"
          name="name"
          required
        />
      </div>
      <div class="addNewUser__form-group">
        <label class="addNewUser__label" for="surname" id="surnameLabel"
          >Prénom :</label
        >
        <input
          class="addNewUser__input"
          type="text"
          id="surname"
          name="surname"
          required
        />
      </div>
      <div class="addNewUser__form-group">
        <label class="addNewUser__label" for="email" id="emailLabel"
          >E-mail :</label
        >
        <input
          class="addNewUser__input"
          type="email"
          id="email"
          name="email"
          required
        />
      </div>
      <div class="addNewUser__form-group">
        <label class="addNewUser__label" for="permission" id="permissionLabel"
          >Permission :</label
        >
        <select class="addNewUser__input" id="permission" name="permission">
          <option value="admin">Admin</option>
          <option value="user">Utilisateur</option>
        </select>
      </div>
      <div class="addNewUser__form-group">
        <label class="addNewUser__label" for="mobile" id="mobileLabel"
          >Mobile :</label
        >
        <input
          class="addNewUser__input"
          type="text"
          id="mobile"
          name="mobile"
          required
        />
      </div>
      <div class="addNewUser__form-group">
        <label class="addNewUser__label" for="gender" id="genderLabel"
          >Genre :</label
        >
        <select class="addNewUser__input" id="gender" name="gender">
          <option value="male">Homme</option>
          <option value="female">Femme</option>
        </select>
      </div>

      <div class="addNewUser__form-group">
        <label class="addUser__label" for="matricule" id="matriculeLabel">
          Matricule :
        </label>
        <input
          class="addNewUser__input"
          type="text"
          id="matricule"
          name="matricule"
          required
        />
      </div>

      <div class="addNewUser__form-group">
        <label class="addNewUser__label" for="image" id="imageLabel"
          >Image :</label
        >
        <input
          class="addNewUser__input"
          type="file"
          id="image"
          name="image"
          accept="image/*"
        />
      </div>
      <div class="addNewUser__form-group"></div>

      <div class="addNewUser__buttons">
        <button
          class="addNewUser__btn addNewUser__btn-submit"
          type="submit"
          id="usersAddUserBtn"
        >
          Ajouter
        </button>
        <button
          class="addNewUser__btn addNewUser__btn-cancel"
          type="button"
          id="cancelAddUserBtn"
        >
          Annuler
        </button>
      </div>
    </form>
  </div>
</div>

<!--block user modal -->
<div class="blockUserModal blockUser blockUserModal-hide">
  <div class="blockUserModal__content">
    <h2 class="blockUserModal__title">Confirmation de Blocage</h2>
    <svg class="blockUserModal__icon">
      <use xlink:href="#icon-x-circle" />
    </svg>
    <p class="blockUserModal__message">
      Êtes-vous certain(e) de vouloir bloquer cet utilisateur ?
    </p>
    <div class="blockUserModal__buttons">
      <button class="blockUserModal__btn blockUserModal__btn--cancel">
        Annuler
      </button>
      <button class="blockUserModal__btn blockUserModal__btn--confirm">
        Confirmer
      </button>
    </div>
  </div>
</div>

<!--blocked users modal -->

<div class="blockedUsersModal blockedUsersModal-hide">
  <div class="blockedUsersTable">
    <h1 class="blockedUsersTable__heading">Utilisateurs Bloqués</h1>
    <span class="blockedUsersModal__close-btn">✖️</span>
    <table>
      <thead>
        <tr>
          <th class="blockedUsersTable__header">Nom</th>
          <th class="blockedUsersTable__header">Prénom</th>
          <th class="blockedUsersTable__header">E-mail</th>
          <th class="blockedUsersTable__header">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class="blockedUsersTable__cell">Smith</td>
          <td class="blockedUsersTable__cell">John</td>
          <td class="blockedUsersTable__cell">john@example.com</td>
          <td class="blockedUsersTable__cell">
            <button class="blockedUsersTable__btn UnblockBtn">Débloquer</button>
          </td>
        </tr>
        <tr>
          <td class="blockedUsersTable__cell">Doe</td>
          <td class="blockedUsersTable__cell">Jane</td>
          <td class="blockedUsersTable__cell">jane@example.com</td>
          <td class="blockedUsersTable__cell">
            <button class="blockedUsersTable__btn UnblockBtn">Débloquer</button>
          </td>
        </tr>
        <!-- Add more rows here for more users -->
      </tbody>
    </table>
  </div>
</div>

<script src="apiConfig.js"></script>

<script src="addUser.js"></script>
